<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>PDFMD – Professional Document Processing</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.css"
        />
        <link rel="stylesheet" href="/static/css/base.css" />
        <link rel="stylesheet" href="/static/css/index.css" />
        <script src="https://unpkg.com/feather-icons"></script>
    </head>
    <body>
        <div class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        PDF<span class="logo-accent">MD</span>
                    </div>
                    <div class="status-indicator">
                        <div class="status-dot"></div>
                        <span>Ready</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="main">
            <div class="container">
                <div class="hero">
                    <h1 class="hero-title">
                        PDF to Markdown
                    </h1>
                    <p class="hero-subtitle">
                        Extract text from scanned documents with machine precision.
                    </p>
                </div>

                <div class="upload-section">
                    <div
                        class="upload-area"
                        onclick="document.getElementById('fileInput').click()"
                        ondragover="handleDragOver(event)"
                        ondrop="handleDrop(event)"
                        ondragleave="handleDragLeave(event)"
                    >
                        <i data-feather="upload" class="upload-icon"></i>
                        <div class="upload-text">Upload Document</div>
                        <div class="upload-hint">Drop PDF or click to select</div>
                        <input
                            type="file"
                            id="fileInput"
                            accept=".pdf"
                            onchange="handleFileSelect(event)"
                        />
                    </div>
                    <div
                        id="fileSelected"
                        class="file-selected"
                        style="display: none"
                    >
                        <i data-feather="file-text" class="file-icon"></i>
                        <span id="fileName"></span>
                    </div>
                </div>

                <div class="model-select-section">
                    <div class="settings-grid">
                        <div class="setting-group">
                            <label class="model-select-label">
                                <i data-feather="cpu" style="width: 16px; height: 16px;"></i>
                                Model
                            </label>
                            <select id="modelSelect" class="model-select">
                                <option value="claude-haiku-4-5">Claude Haiku 4.5 [Default]</option>
                                <option value="gpt-5-mini">GPT-5 Mini [Alternative]</option>
                            </select>
                        </div>
                        <div class="setting-group">
                            <label class="model-select-label">
                                <i data-feather="layers" style="width: 16px; height: 16px;"></i>
                                Batch Size
                            </label>
                            <input type="number" id="batchSize" class="model-select" value="5" min="1" max="20" />
                        </div>
                    </div>
                </div>

                <button
                    class="process-button"
                    id="processBtn"
                    disabled
                    onclick="processFile()"
                >
                    <i
                        data-feather="play"
                        style="width: 18px; height: 18px"
                    ></i>
                    Process Document
                </button>

                <div id="statusProcessing" class="status-message status-processing">
                    <div class="progress-container">
                        <div class="progress-header">
                            <div class="loading"></div>
                            <span id="processingMessage">Processing your document...</span>
                        </div>
                        <div class="progress-bar-bg">
                            <div id="progressBar" class="progress-bar-fill"></div>
                        </div>
                        <div id="pageStatus" class="progress-status">
                            Page 0 of 0
                        </div>
                    </div>
                </div>

                <div id="statusSuccess" class="status-message status-success">
                    <i
                        data-feather="check-circle"
                        style="width: 20px; height: 20px"
                    ></i>
                    <span
                        >Processing complete!
                        <a href="#" id="downloadLink">Download</a> •
                        <a
                            href="#"
                            id="previewLink"
                            onclick="previewResult(event)"
                            >Preview</a
                        ></span
                    >
                </div>

                <div id="statusError" class="status-message status-error">
                    <i
                        data-feather="alert-circle"
                        style="width: 20px; height: 20px"
                    ></i>
                    <span id="errorMessage"
                        >Processing failed. Please try again.</span
                    >
                </div>

                <!-- Batch Progress Section -->
                <div id="batchProgress" style="display: none;">
                    <div class="batch-document-card">
                        <div class="batch-document-header">
                            <div class="batch-document-info">
                                <i data-feather="file-text" class="batch-doc-icon"></i>
                                <div>
                                    <div class="batch-document-title" id="batchDocTitle"></div>
                                    <div class="batch-document-meta" id="batchDocMeta"></div>
                                </div>
                            </div>
                        </div>
                        <div id="batchList" class="batch-list"></div>
                    </div>
                </div>

                <div class="features">
                    <h2 class="features-title">Technical Specifications</h2>
                    <div class="features-grid">
                        <div class="feature-card">
                            <i data-feather="cpu" class="feature-icon"></i>
                            <div class="feature-title">Vision Models</div>
                            <div class="feature-description">
                                Claude Haiku 4.5 and GPT-5 Mini process document images
                                with contextual understanding beyond traditional OCR.
                            </div>
                        </div>
                        <div class="feature-card">
                            <i data-feather="layers" class="feature-icon"></i>
                            <div class="feature-title">Batch Processing</div>
                            <div class="feature-description">
                                Documents split into configurable page batches.
                                Process large PDFs without timeout failures.
                            </div>
                        </div>
                        <div class="feature-card">
                            <i data-feather="file-text" class="feature-icon"></i>
                            <div class="feature-title">Format Retention</div>
                            <div class="feature-description">
                                Preserves document structure including headings,
                                tables, footnotes, and multi-column layouts.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script src="/static/js/index.js"></script>

        <!-- Markdown Preview Modal -->
        <div id="previewModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title">Markdown Preview</div>
                    <button onclick="closePreview()" class="modal-close">
                        <i data-feather="x" style="width: 20px; height: 20px"></i>
                    </button>
                </div>
                <div id="previewContent" class="modal-body markdown-preview"></div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    </body>
</html>
